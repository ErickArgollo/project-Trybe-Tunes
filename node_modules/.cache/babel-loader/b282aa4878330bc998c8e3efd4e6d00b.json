{"ast":null,"code":"var _jsxFileName = \"/home/erick/Documentos/Projetos github/project-Trybe-Tunes/src/pages/Search.jsx\";\nimport React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport './style/Search.css';\nimport HeaderMobile from '../components/HeaderMobile';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Search extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      searchInput: '',\n      cloneSearchInput: '',\n      buttonDisabled: true,\n      album: '',\n      isLoadingApi: false,\n      showSearchBar: false,\n      showHeader: false\n    };\n\n    this.handleInputChange = event => {\n      const {\n        value\n      } = event.target;\n      this.setState({\n        searchInput: value\n      }, this.validateInput);\n    };\n\n    this.validateInput = () => {\n      const {\n        searchInput\n      } = this.state;\n\n      if (searchInput.length >= 2) {\n        this.setState({\n          buttonDisabled: false\n        });\n      } else {\n        this.setState({\n          buttonDisabled: true\n        });\n      }\n    };\n\n    this.searchArtist = async () => {\n      const {\n        searchInput\n      } = this.state;\n      this.setState({\n        isLoadingApi: true,\n        cloneSearchInput: searchInput,\n        showSearchBar: false\n      });\n      const response = await searchAlbumsAPI(searchInput);\n      this.setState({\n        album: response,\n        isLoadingApi: false,\n        searchInput: '',\n        showSearchBar: true\n      }, this.validateInput);\n    };\n\n    this.toggleMenu = () => {\n      const {\n        showHeader\n      } = this.state;\n\n      if (showHeader) {\n        this.setState({\n          showHeader: false\n        });\n      } else {\n        this.setState({\n          showHeader: true\n        });\n      }\n    };\n  }\n\n  render() {\n    const {\n      buttonDisabled,\n      searchInput,\n      isLoadingApi,\n      showSearchBar,\n      cloneSearchInput,\n      album,\n      showHeader\n    } = this.state;\n    console.log(album);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"page-search\",\n      className: \"search-container\",\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-song-container\",\n        children: [showHeader && /*#__PURE__*/_jsxDEV(HeaderMobile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"material-icons burguer-search\",\n          onClick: this.toggleMenu,\n          children: \"menu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), isLoadingApi ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 28\n        }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"content\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              \"data-testid\": \"search-artist-input\",\n              value: searchInput,\n              onChange: this.handleInputChange,\n              className: \"search-input\",\n              placeholder: \"DIGITE A SUA PESQUISA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              \"data-testid\": \"search-artist-button\",\n              disabled: buttonDisabled,\n              onClick: this.searchArtist,\n              className: \"button-search\",\n              children: \"PROCURAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 17\n        }, this), showSearchBar && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"album-text-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"result-search-album\",\n            children: [\"Resultado de \\xE1lbuns de\", ' ', cloneSearchInput]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 15\n          }, this), album.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Nenhum \\xE1lbum foi encontrado\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 38\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"albuns-container\",\n            children: album.map((e, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"album-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: e.artworkUrl100,\n                alt: \"img\",\n                className: \"albumImg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n                to: `/album/${e.collectionId}`,\n                \"data-testid\": `link-to-album-${e.collectionId}`,\n                className: \"nav-album-search\",\n                children: e.collectionName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 29\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 27\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","NavLink","Header","searchAlbumsAPI","HeaderMobile","Search","state","searchInput","cloneSearchInput","buttonDisabled","album","isLoadingApi","showSearchBar","showHeader","handleInputChange","event","value","target","setState","validateInput","length","searchArtist","response","toggleMenu","render","console","log","map","e","index","artworkUrl100","collectionId","collectionName"],"sources":["/home/erick/Documentos/Projetos github/project-Trybe-Tunes/src/pages/Search.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport './style/Search.css';\nimport HeaderMobile from '../components/HeaderMobile';\n\nexport default class Search extends Component {\n  state = {\n    searchInput: '',\n    cloneSearchInput: '',\n    buttonDisabled: true,\n    album: '',\n    isLoadingApi: false,\n    showSearchBar: false,\n    showHeader: false,\n  };\n\n  handleInputChange = (event) => {\n    const { value } = event.target;\n    this.setState({ searchInput: value }, this.validateInput);\n  };\n\n  validateInput = () => {\n    const { searchInput } = this.state;\n    if (searchInput.length >= 2) {\n      this.setState({ buttonDisabled: false });\n    } else {\n      this.setState({ buttonDisabled: true });\n    }\n  };\n\n  searchArtist = async () => {\n    const { searchInput } = this.state;\n    this.setState({ isLoadingApi: true,\n      cloneSearchInput: searchInput,\n      showSearchBar: false });\n    const response = await searchAlbumsAPI(searchInput);\n    this.setState({\n      album: response,\n      isLoadingApi: false,\n      searchInput: '',\n      showSearchBar: true }, this.validateInput);\n  };\n\n  toggleMenu = () => {\n    const { showHeader } = this.state;\n    if (showHeader) {\n      this.setState({ showHeader: false });\n    } else {\n      this.setState({ showHeader: true });\n    }\n  };\n\n  render() {\n    const {\n      buttonDisabled,\n      searchInput,\n      isLoadingApi,\n      showSearchBar,\n      cloneSearchInput,\n      album,\n      showHeader } = this.state;\n    console.log(album);\n\n    return (\n      <div data-testid=\"page-search\" className=\"search-container\">\n        <Header />\n        <div className=\"form-song-container\">\n          {\n            showHeader && <HeaderMobile />\n          }\n\n          <span\n            className=\"material-icons burguer-search\"\n            onClick={ this.toggleMenu }\n          >\n\n            menu\n          </span>\n          {\n            isLoadingApi ? <div className=\"loading\" />\n              : (\n                <form className=\"content\">\n                  <div>\n                    <input\n                      type=\"text\"\n                      data-testid=\"search-artist-input\"\n                      value={ searchInput }\n                      onChange={ this.handleInputChange }\n                      className=\"search-input\"\n                      placeholder=\"DIGITE A SUA PESQUISA\"\n                    />\n                    <button\n                      type=\"button\"\n                      data-testid=\"search-artist-button\"\n                      disabled={ buttonDisabled }\n                      onClick={ this.searchArtist }\n                      className=\"button-search\"\n                    >\n                      PROCURAR\n                    </button>\n                  </div>\n                </form>)\n          }\n          { showSearchBar && (\n            <div className=\"album-text-container\">\n              <p className=\"result-search-album\">\n                Resultado de álbuns de\n                {' '}\n                {cloneSearchInput}\n              </p>\n              {\n                album.length === 0 ? <p>Nenhum álbum foi encontrado</p>\n                  : (\n                    <div className=\"albuns-container\">\n                      {\n                        album.map((e, index) => (\n                          <div\n                            key={ index }\n                            className=\"album-container\"\n                          >\n                            <img\n                              src={ e.artworkUrl100 }\n                              alt=\"img\"\n                              className=\"albumImg\"\n                            />\n\n                            <NavLink\n                              to={ `/album/${e.collectionId}` }\n                              data-testid={ `link-to-album-${e.collectionId}` }\n                              className=\"nav-album-search\"\n                            >\n                              {e.collectionName}\n                            </NavLink>\n                          </div>))\n\n                      }\n                    </div>)\n\n              }\n            </div>)}\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}